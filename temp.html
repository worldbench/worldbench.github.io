<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="template.v2.js"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://d3js.org/d3-collection.v1.min.js"></script>
    <script src="https://rawgit.com/nstrayer/slid3r/master/dist/slid3r.js"></script>
    <script src="cross_fade.js"></script>
    <script type="module" src="https://gradio.s3-us-west-2.amazonaws.com/3.35.2/gradio.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="favicon/png" href="favicon.png">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js"
      crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>

    <!-- Light theme, scoped to .papers-section -->
    <style>
      .papers-section{
        --bg:#fafafa;
        --card:#ffffff;
        --border:#e8e8ef;
        --muted:#6b7280;
        --text:#0f172a;
        --accent:#2563eb;   /* blue - Data Engines */
        --accent-2:#9333ea; /* purple - Action Interpreters */
        --accent-3:#16a34a; /* green - Neural Simulators */

        background:var(--bg);
        border:1px solid var(--border);
        border-radius:16px;
        padding:18px 16px 20px;
        margin:18px 0 28px;
      }
      .papers-section h2{
        margin:4px 0 6px;
        font-size:26px; line-height:1.25; color:var(--text);
      }
      .papers-section .subhead{color:var(--muted); margin:0 0 12px}

      .papers-section .bar{display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin:10px 0 14px}
      .papers-section .tabs{display:flex; gap:10px; flex-wrap:wrap}
      .papers-section .tab-btn{
        appearance:none; border:1px solid var(--border); background:#f6f8ff; color:var(--text);
        padding:8px 14px; border-radius:12px; cursor:pointer; font-weight:600; letter-spacing:.2px;
        transition:.2s transform,.2s background,.2s border-color
      }
      .papers-section .tab-btn[aria-selected="true"]{
        background:#eef2ff; border-color:#dbe3ff; box-shadow:0 0 0 2px #e8edff inset;
      }
      .papers-section .tab-1[aria-selected="true"]{box-shadow:0 0 0 2px rgba(37,99,235,.25) inset}
      .papers-section .tab-2[aria-selected="true"]{box-shadow:0 0 0 2px rgba(147,51,234,.25) inset}
      .papers-section .tab-3[aria-selected="true"]{box-shadow:0 0 0 2px rgba(22,163,74,.25) inset}
      .papers-section .tab-btn:hover{transform:translateY(-1px)}

      .papers-section .search{
        flex:1 1 320px; display:flex; gap:8px; align-items:center; background:#fff;
        border:1px solid var(--border); border-radius:12px; padding:8px 12px; color:var(--text)
      }
      .papers-section .search input{flex:1; background:transparent; border:0; outline:0; color:var(--text)}
      .papers-section .count{color:var(--muted); font-size:13px}

      .papers-section .panel{display:none}
      .papers-section .panel[aria-hidden="false"]{display:block; animation:fade .2s ease}
      @keyframes fade{from{opacity:.75; transform:translateY(3px)} to{opacity:1; transform:none}}

      .papers-section .list{display:grid; grid-template-columns:repeat(12,1fr); gap:12px}
      @media (max-width:900px){.papers-section .list{grid-template-columns:1fr}}
      .papers-section .card{
        grid-column:span 12; background:var(--card);
        border:1px solid var(--border); border-radius:14px; padding:14px; display:flex; gap:12px; align-items:flex-start;
      }
      .papers-section .badge{margin-top:4px; width:10px; height:10px; border-radius:50%; background:var(--accent); flex:0 0 auto}
      .papers-section .badge.badge-2{background:var(--accent-2)}
      .papers-section .badge.badge-3{background:var(--accent-3)}
      .papers-section .card h3{margin:0 0 6px; font-size:18px; color:#0b1220}
      .papers-section .meta{color:var(--muted); font-size:13px}
      .papers-section .links{margin-top:10px; display:flex; flex-wrap:wrap; gap:8px}
      .papers-section .link{
        padding:6px 10px; border:1px solid var(--border); border-radius:10px; text-decoration:none; color:var(--text);
        font-size:14px; transition:.15s background,.15s border-color,.15s transform; background:#fff;
      }
      .papers-section .link:hover{transform:translateY(-1px); border-color:#d5d9e6; background:#f9fafb}
      .papers-section .empty{
        border:1px dashed var(--border); border-radius:12px; padding:18px; color:var(--muted); text-align:center; background:#fff
      }

      /* 可选：三章的标题色调 */
      #video-papers h2 { color:#1d4ed8; }      /* 蓝 */
      #occupancy-papers h2 { color:#7c3aed; }  /* 紫 */
      #lidar-papers h2 { color:#059669; }      /* 绿 */
    </style>
  </head>
  <body>
    <!-- 你的原头图区域保持不变 -->
    <div class="header-container">
      <div class="header-content">
        <h1>WorldBench:<br>Benchmarking 3D and 4D World Models in the Real World</h1>
        <div class="button-container">
          <a href="" class="button">Paper</a>
          <a href="" class="button">GitHub</a>
          <a href="" class="button">Leaderboard</a>
        </div>
      </div>
      <div class="header-image">
        <img src="images/teaser_eye.png" alt="Teaser Image" class="teaser-image">
      </div>
    </div>

    <d-article>
      <d-contents>
        <nav>
          <h4>Contents</h4>
          <div><a href="#definition">Definition</a></div>
          <div><a href="#taxonomy">Taxonomy</a></div>
          <div><a href="#datasets">Datasets</a></div>
          <div><a href="#evaluatons">Evaluations</a></div>
          <div><a href="#applications">Applications</a></div>
          <!-- 新增三章入口 -->
          <div><a href="#video-papers">Video Generation</a></div>
          <div><a href="#occupancy-papers">Occupancy Generation</a></div>
          <div><a href="#lidar-papers">LiDAR Generation</a></div>
        </nav>
      </d-contents>

      <p>Nihao</p>

      <section id="definition">
        <h2>Definition</h2>
        <p>To be updated.</p>
      </section>

      <section id="taxonomy">
        <h2>Taxonomy</h2>
        <p>To be updated.</p>
        <h3>Data Engines</h3><p>...</p>
        <h3>Action Interpreters</h3><p>...</p>
      </section>

      <!-- ========== 章节 1：Video Generation ========== -->
      <section id="video-papers" class="papers-section" data-section-key="video">
        <h2>Video Generation</h2>
        <p class="subhead">切换子方向：Data Engines / Action Interpreters / Neural Simulators</p>
        <div class="bar" aria-live="polite">
          <div class="tabs" role="tablist" aria-label="Video Generation Categories">
            <button class="tab-btn tab-1" role="tab" aria-selected="true" aria-controls="video-panel-a" id="video-tab-a">Data Engines</button>
            <button class="tab-btn tab-2" role="tab" aria-selected="false" aria-controls="video-panel-b" id="video-tab-b">Action Interpreters</button>
            <button class="tab-btn tab-3" role="tab" aria-selected="false" aria-controls="video-panel-c" id="video-tab-c">Neural Simulators</button>
          </div>
          <div class="search" title="输入关键词过滤（标题、作者、出处）">
            🔎 <input class="paper-search" type="search" placeholder="搜索：标题 / 作者 / 出处（回车清空）" />
          </div>
          <span class="count">0 items</span>
        </div>
        <section id="video-panel-a" class="panel" role="tabpanel" aria-labelledby="video-tab-a" aria-hidden="false">
          <div class="list"></div>
        </section>
        <section id="video-panel-b" class="panel" role="tabpanel" aria-labelledby="video-tab-b" aria-hidden="true">
          <div class="list"></div>
        </section>
        <section id="video-panel-c" class="panel" role="tabpanel" aria-labelledby="video-tab-c" aria-hidden="true">
          <div class="list"></div>
        </section>
      </section>

      <!-- ========== 章节 2：Occupancy Generation ========== -->
      <section id="occupancy-papers" class="papers-section" data-section-key="occupancy">
        <h2>Occupancy Generation</h2>
        <p class="subhead">切换子方向：Data Engines / Action Interpreters / Neural Simulators</p>
        <div class="bar" aria-live="polite">
          <div class="tabs" role="tablist" aria-label="Occupancy Generation Categories">
            <button class="tab-btn tab-1" role="tab" aria-selected="true" aria-controls="occupancy-panel-a" id="occupancy-tab-a">Data Engines</button>
            <button class="tab-btn tab-2" role="tab" aria-selected="false" aria-controls="occupancy-panel-b" id="occupancy-tab-b">Action Interpreters</button>
            <button class="tab-btn tab-3" role="tab" aria-selected="false" aria-controls="occupancy-panel-c" id="occupancy-tab-c">Neural Simulators</button>
          </div>
          <div class="search" title="输入关键词过滤（标题、作者、出处）">
            🔎 <input class="paper-search" type="search" placeholder="搜索：标题 / 作者 / 出处（回车清空）" />
          </div>
          <span class="count">0 items</span>
        </div>
        <section id="occupancy-panel-a" class="panel" role="tabpanel" aria-labelledby="occupancy-tab-a" aria-hidden="false">
          <div class="list"></div>
        </section>
        <section id="occupancy-panel-b" class="panel" role="tabpanel" aria-labelledby="occupancy-tab-b" aria-hidden="true">
          <div class="list"></div>
        </section>
        <section id="occupancy-panel-c" class="panel" role="tabpanel" aria-labelledby="occupancy-tab-c" aria-hidden="true">
          <div class="list"></div>
        </section>
      </section>

      <!-- ========== 章节 3：LiDAR Generation ========== -->
      <section id="lidar-papers" class="papers-section" data-section-key="lidar">
        <h2>LiDAR Generation</h2>
        <p class="subhead">切换子方向：Data Engines / Action Interpreters / Neural Simulators</p>
        <div class="bar" aria-live="polite">
          <div class="tabs" role="tablist" aria-label="LiDAR Generation Categories">
            <button class="tab-btn tab-1" role="tab" aria-selected="true" aria-controls="lidar-panel-a" id="lidar-tab-a">Data Engines</button>
            <button class="tab-btn tab-2" role="tab" aria-selected="false" aria-controls="lidar-panel-b" id="lidar-tab-b">Action Interpreters</button>
            <button class="tab-btn tab-3" role="tab" aria-selected="false" aria-controls="lidar-panel-c" id="lidar-tab-c">Neural Simulators</button>
          </div>
          <div class="search" title="输入关键词过滤（标题、作者、出处）">
            🔎 <input class="paper-search" type="search" placeholder="搜索：标题 / 作者 / 出处（回车清空）" />
          </div>
          <span class="count">0 items</span>
        </div>
        <section id="lidar-panel-a" class="panel" role="tabpanel" aria-labelledby="lidar-tab-a" aria-hidden="false">
          <div class="list"></div>
        </section>
        <section id="lidar-panel-b" class="panel" role="tabpanel" aria-labelledby="lidar-tab-b" aria-hidden="true">
          <div class="list"></div>
        </section>
        <section id="lidar-panel-c" class="panel" role="tabpanel" aria-labelledby="lidar-tab-c" aria-hidden="true">
          <div class="list"></div>
        </section>
      </section>

      <br><br>

      <d-appendix>
        <h3>BibTeX</h3>
        <p class="bibtex">
          @article{kong2025worldbench,<br>
          &nbsp;&nbsp;&nbsp;&nbsp;title={WorldBench: Benchmarking 3D and 4D World Models in the Real World},<br>
          &nbsp;&nbsp;&nbsp;&nbsp;author={WorldBench Team},<br>
          &nbsp;&nbsp;&nbsp;&nbsp;journal={arXiv preprint arXiv:2508.xxxxx},<br>
          &nbsp;&nbsp;&nbsp;&nbsp;year={2025},<br>
          }
        </p>
        <d-footnote-list></d-footnote-list>
        <d-citation-list></d-citation-list>
      </d-appendix>
    </d-article>

    <script src="contents_bar.js"></script>

    <!-- 统一的数据与初始化脚本 -->
    <script>
      // ======= 1) 在这里维护所有章节-子方向的数据 =======
      // 结构：paperStore[sectionKey][subKey] = array of items
      // sectionKey ∈ { video, occupancy, lidar }
      // subKey ∈ { A(=Data Engines), B(=Action Interpreters), C(=Neural Simulators) }
      // item: { title, authors, venue, year, paper, code, project }
      const paperStore = {
        video: {
          A: [
            { title:"Generative Video from World Models", authors:"Smith et al.", venue:"CVPR", year:2025,
              paper:"#", code:"#", project:"#"}
          ],
          B: [
            { title:"Action-Conditioned Video Diffusion", authors:"Lee et al.", venue:"NeurIPS", year:2024,
              paper:"#", code:"#", project:"#"}
          ],
          C: [
            { title:"Neural Physics Sim for Video", authors:"Zhang et al.", venue:"ICLR", year:2025,
              paper:"#", code:"#", project:"#"}
          ]
        },
        occupancy: {
          A: [
            { title:"OccGen: Data Engines for Occupancy", authors:"Chen et al.", venue:"ECCV", year:2024,
              paper:"#", code:"#", project:"#"}
          ],
          B: [
            { title:"Policy-Aware Occupancy Generation", authors:"Kumar et al.", venue:"ICML", year:2025,
              paper:"#", code:"#", project:"#"}
          ],
          C: [
            { title:"Neural Simulators for 3D Occupancy", authors:"Park et al.", venue:"TPAMI", year:2026,
              paper:"#", code:"#", project:"#"}
          ]
        },
        lidar: {
          A: [
            { title:"LiDARCrafter: Dynamic 4D World Modeling", authors:"Liang et al.", venue:"CVPR", year:2025,
              paper:"#", code:"#", project:"#"}
          ],
          B: [
            { title:"Action Interpreters for LiDAR Scenes", authors:"Wang et al.", venue:"ICCV", year:2025,
              paper:"#", code:"#", project:"#"}
          ],
          C: [
            { title:"Neural Simulators for Point Clouds", authors:"Zhao et al.", venue:"NeurIPS", year:2024,
              paper:"#", code:"#", project:"#"}
          ]
        }
      };

      // ======= 2) 通用渲染逻辑：对每个 .papers-section 初始化 =======
      (function initAllPapersSections(){
        document.querySelectorAll('.papers-section').forEach(section => initPapersSection(section));
      })();

      function initPapersSection(root){
        const sectionKey = root.getAttribute('data-section-key'); // video / occupancy / lidar
        const tabs = Array.from(root.querySelectorAll('.tab-btn'));
        const panels = {
          A: root.querySelector(`[id$="panel-a"]`),
          B: root.querySelector(`[id$="panel-b"]`),
          C: root.querySelector(`[id$="panel-c"]`)
        };
        const lists = {
          A: panels.A.querySelector('.list'),
          B: panels.B.querySelector('.list'),
          C: panels.C.querySelector('.list')
        };
        const countEl = root.querySelector('.count');
        const searchInput = root.querySelector('.paper-search');

        let activeKey = 'A';
        let keyword = '';

        function makeLink(label, href){
          const a = document.createElement('a');
          a.className = 'link';
          a.textContent = label;
          a.href = href || '#';
          a.target = '_blank';
          a.rel = 'noopener noreferrer';
          return a;
        }
        function makeCard(item, badgeIdx=1){
          const wrap = document.createElement('article');
          wrap.className = 'card';

          const dot = document.createElement('span');
          dot.className = 'badge' + (badgeIdx===2?' badge-2': (badgeIdx===3?' badge-3':''));
          wrap.appendChild(dot);

          const box = document.createElement('div');
          const h3 = document.createElement('h3');
          h3.textContent = item.title || 'Untitled';
          const meta = document.createElement('div');
          meta.className = 'meta';
          meta.textContent = [
            item.authors || 'Unknown authors',
            item.venue ? `${item.venue}${item.year?` · ${item.year}`:''}` : (item.year||'')
          ].filter(Boolean).join(' ｜ ');

          const links = document.createElement('div');
          links.className = 'links';
          links.appendChild(makeLink('Paper', item.paper));
          links.appendChild(makeLink('Code', item.code));
          links.appendChild(makeLink('Project', item.project));

          box.appendChild(h3);
          box.appendChild(meta);
          box.appendChild(links);
          wrap.appendChild(box);
          return wrap;
        }

        const normalize = s => (s||'').toLowerCase();
        function match(item, kw){
          if(!kw) return true;
          const bag = [item.title, item.authors, item.venue, item.year]
            .map(x=>String(x??'')).join(' ').toLowerCase();
          return bag.includes(kw);
        }

        function renderList(subKey){
          const data = (paperStore[sectionKey] && paperStore[sectionKey][subKey]) || [];
          const items = data.filter(it=>match(it, keyword));
          const target = lists[subKey];
          target.innerHTML = '';
          if(items.length===0){
            const empty = document.createElement('div');
            empty.className = 'empty';
            empty.textContent = 'No data or no match.';
            target.appendChild(empty);
          }else{
            items.forEach(it => target.appendChild(makeCard(
              it, subKey==='A'?1: subKey==='B'?2:3
            )));
          }
          countEl.textContent = `${items.length} items`;
        }

        function switchTo(subKey){
          activeKey = subKey;
          tabs.forEach(btn=>{
            const isSelected = btn.id.endsWith(subKey.toLowerCase());
            btn.setAttribute('aria-selected', String(isSelected));
          });
          Object.entries(panels).forEach(([k,el])=>{
            el.setAttribute('aria-hidden', String(k!==subKey));
          });
          renderList(subKey);
        }

        // events
        tabs.forEach(btn=>{
          btn.addEventListener('click', ()=>{
            const subKey = btn.id.split('-').pop().toUpperCase(); // a/b/c
            switchTo(subKey);
          });
        });
        root.addEventListener('keydown', (e)=>{
          if(e.key==='ArrowRight' || e.key==='ArrowLeft'){
            e.preventDefault();
            const order = ['A','B','C'];
            const idx = order.indexOf(activeKey);
            const next = e.key==='ArrowRight' ? (idx+1)%3 : (idx+2)%3;
            switchTo(order[next]);
            root.querySelector(`[id$="tab-${order[next].toLowerCase()}"]`)?.focus();
          }
        });
        searchInput.addEventListener('input', ()=>{
          keyword = normalize(searchInput.value);
          renderList(activeKey);
        });
        searchInput.addEventListener('search', ()=>{
          keyword = normalize(searchInput.value);
          renderList(activeKey);
        });

        // init
        switchTo('A');
      }
    </script>
  </body>
</html>
